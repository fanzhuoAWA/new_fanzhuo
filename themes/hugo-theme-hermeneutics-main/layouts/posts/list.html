{{- define "main" -}}
<div class="container max-w-[var(--herm-main-width-nr)] mx-auto px-4 pt-24 pb-16">
    <header class="flex items-center justify-between mb-12">
        <div>
            <h1 class="text-3xl font-medium mb-2">Articles</h1>
            <p class="text-muted-foreground/70">共 {{ len .Pages }} 篇文章</p>
        </div>
    </header>

    <div class="space-y-16">
        {{- range .Pages.GroupByDate "2006" -}}
        <section aria-labelledby="year-{{ .Key }}">
            <div class="space-y-6">
                <div class="flex items-center gap-4">
                    <h2 id="year-{{ .Key }}" class="text-2xl font-medium tabular-nums">
                        <time>{{- .Key -}}</time>
                    </h2>
                    <div class="h-px flex-1 bg-gradient-to-r from-border to-transparent" aria-hidden="true"></div>
                </div>

                <ul class="space-y-1">
                    {{- range .Pages -}}
                    <li class="relative ml-2 md:ml-4">
                        <article>
                            <div
                                class="flex items-center justify-between gap-4 px-4 py-3 rounded-lg text-muted-foreground/70 hover:text-muted-foreground/90 hover:bg-muted/30 transition duration-300">
                                <div class="flex items-center gap-3 min-w-0">
                                    <h3 class="text-base font-medium truncate">
                                        <a href="{{- .RelPermalink -}}" class="stretched-link">
                                            {{- .Title -}}
                                        </a>
                                    </h3>

                                    {{- with .Params.categories -}}
                                    {{- range . -}}
                                    <span
                                        class="hidden sm:inline-block shrink-0 px-2 py-0.5 text-sm rounded-md text-muted-foreground/70 bg-muted/50"
                                        aria-hidden="true">
                                        {{- . -}}
                                    </span>
                                    {{- end -}}
                                    {{- end -}}

                                    {{- if .Params.featured -}}
                                    <div class="shrink-0 flex items-center text-primary/70">
                                        <span class="sr-only">精选文章</span>
                                        <div class="w-4 h-4 i-carbon-star-filled" aria-hidden="true"></div>
                                    </div>
                                    {{- end -}}
                                </div>
                                <time datetime="{{ .Date.Format "2006-01-02" }}"
                                    class="shrink-0 text-sm text-muted-foreground/60 tabular-nums">
                                    {{- .Date.Format "01-02" -}}
                                </time>
                            </div>
                        </article>
                    </li>
                    {{- end -}}
                </ul>
            </div>
        </section>
        {{- end -}}
    </div>
</div>
{{- end -}}