<!DOCTYPE html>
<html lang="zh">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=11924&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>C&#43;&#43;二分算法 | Fanzhuo&#39;s Blog</title><meta name="description" content="本文整理了C&#43;&#43;中二分查找的几种经典实现模板，包括整数二分、实数二分以及标准库函数的使用。"><meta name="keywords" content="Blog ,Developer ,Hugo ,Open Source ,Tech ,Computer Science ,Writing ,中文博客"><link rel="alternate" hreflang="zh" href="http://localhost:11924/posts/%E7%AE%97%E6%B3%95/cpp-binary-search-template/" /><link rel="alternate" hreflang="x-default" href="http://localhost:11924/posts/%E7%AE%97%E6%B3%95/cpp-binary-search-template/" /><meta property="og:url" content="http://localhost:11924/posts/%E7%AE%97%E6%B3%95/cpp-binary-search-template/">
  <meta property="og:site_name" content="Fanzhuo&#39;s Blog">
  <meta property="og:title" content="C&#43;&#43;二分算法">
  <meta property="og:description" content="本文整理了C&#43;&#43;中二分查找的几种经典实现模板，包括整数二分、实数二分以及标准库函数的使用。">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-05-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-05-24T00:00:00+00:00">
    <meta property="article:tag" content="模板">
    <meta property="article:tag" content="C&#43;&#43;">
    <meta property="article:tag" content="二分查找">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="C&#43;&#43;二分算法">
  <meta name="twitter:description" content="本文整理了C&#43;&#43;中二分查找的几种经典实现模板，包括整数二分、实数二分以及标准库函数的使用。">
<link rel="icon" href="/favicon.svg" type="image/svg+xml"><link rel="stylesheet" href="/css/global/anim.min.a4d9e5d2be84089189de579293bca96752415ba7ef2edc5db0faf25901d53ed7.css" integrity="sha256-pNnl0r6ECJGJ3leSk7ypZ1JBW6fvLtxdsPryWQHVPtc=" crossorigin="anonymous"><link rel="stylesheet" href="/css/global/header.min.4378df24d232a91bca43167c7e38e4f27cf0f7598816ed1e2663f7c951b1e9c3.css" integrity="sha256-Q3jfJNIyqRvKQxZ8fjjk8nzw91mIFu0eJmP3yVGx6cM=" crossorigin="anonymous"><link rel="stylesheet" href="/css/global/main.min.efade0a37b666a701a71cda14e5cc642dfeea0af1c831de06c6eb9869f420b07.css" integrity="sha256-763go3tmanAacc2hTlzGQt/uoK8cgx3gbG65hp9CCwc=" crossorigin="anonymous"><link rel="stylesheet" href="/css/uno.min.3631864b0921b0b650c722c0ba304750c3bc5c309bbb3d5854ec69a96eb80497.css" integrity="sha256-NjGGSwkhsLZQxyLAujBHUMO8XDCbuz1YVOxpqW64BJc=" crossorigin="anonymous"><link rel="stylesheet" href="/css/custom.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" integrity="sha256-47DEQpj8HBSa&#43;/TImW&#43;5JCeuQeRkm5NMpJWZG3hSuFU=" crossorigin="anonymous"><script>(function () {
    const theme = localStorage.getItem('theme') ||
        (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');

    if (theme === 'dark' ||
        (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
    }
})();</script><link rel="stylesheet" href="/css/article/abstract.min.a5ca7a45b5e9d9f7ed4afbfb17844e59d586e02de3824f95d53b9f2968ebec48.css" integrity="sha256-pcp6RbXp2fftSvv7F4ROWdWG4C3jgk&#43;V1TufKWjr7Eg=" crossorigin="anonymous"><link rel="stylesheet" href="/css/article/clickcopy.min.4f67e2fb2075dfae26ba99e9ba750c2eee0c904c8dcffb8981c45ead9157fd99.css" integrity="sha256-T2fi&#43;yB1364mupnpunUMLu4MkEyNz/uJgcRerZFX/Zk=" crossorigin="anonymous"><link rel="stylesheet" href="/css/article/lightbox.min.b3ff90a8594b82cc17eba45f861591f1bce2fe67c3eda33203ae876736cf89fa.css" integrity="sha256-s/&#43;QqFlLgswX66RfhhWR8bzi/mfD7aMyA66HZzbPifo=" crossorigin="anonymous"><link rel="stylesheet" href="/css/article/prose.min.bf2cf7af82203bc5433be31a6f39b2b1a3fb4347e7409f3c9e7b0a1dd99b3115.css" integrity="sha256-vyz3r4IgO8VDO&#43;MabzmysaP7Q0fnQJ88nnsKHdmbMRU=" crossorigin="anonymous"><link rel="stylesheet" href="/css/article/shiki.min.c0e6db88b257cd1eb6333abe1275a053124ebdc0c8e7c930a89591f44c43c577.css" integrity="sha256-wObbiLJXzR62Mzq&#43;EnWgUxJOvcDI58kwqJWR9ExDxXc=" crossorigin="anonymous"><link rel="stylesheet" href="/css/article/toc.min.32497b095175e97e931be8d5cd03da64a7fbcbc706e1faadf76094daa3240522.css" integrity="sha256-Mkl7CVF16X6TG&#43;jVzQPaZKf7y8cG4fqt92CU2qMkBSI=" crossorigin="anonymous"><script src="/js/article/lightbox.js"defer></script><script src="/js/article/clickcopy.js"defer></script></head>

<body class="min-h-screen flex flex-col gap-y-4 bg-background text-foreground transition-colors"><div class="h-card p-author hidden">
    <span class="p-name">Fanzhuo</span>

    <img class="u-photo" src="http://localhost:11924/img/avatar.png" alt="Fanzhuo"><p class="p-note">My Development Logs, Life Essays, and Algorithm Discussions.</p><a class="u-url u-uid" href="http://localhost:11924/">http://localhost:11924/</a><span class="p-category">Indie Blogger</span><span class="p-category">Developer</span><span class="p-category">Open Source Enthusiast</span><span class="p-category">Tech Lover</span><span class="p-category">OIer</span></div><header class="sticky top-0 left-0 right-0 bg-background/80 backdrop-blur z-[var(--herm-zidx-header)]">
    <div class="container mx-auto px-4 flex items-center justify-between h-[var(--herm-header-height)] relative">
        
        <div class="flex-1 flex justify-start">
            <a rel="me" href="/" class="shrink-0">
                <img src="/img/avatar.png" alt="avatar"
                    class="w-8 h-8 rounded-full object-cover ring-2 ring-background shadow-sm">
            </a>
        </div>

        
        <nav class="hidden md:flex flex-shrink-0" id="header-menu" aria-label="Main navigation">
            <ul
                class="flex items-center bg-muted/50 backdrop-blur rounded-full px-4 h-9 gap-6 text-sm font-medium text-muted-foreground"><li class="relative group">
                    <a aria-label="Menu Archives" href="http://localhost:11924/"
                        class="hover:text-primary transition-colors">
                        Archives
                    </a><ul class="flex flex-col overflow-hidden absolute top-full left-1/2 -translate-x-1/2 mt-2 opacity-0 invisible 
                       group-hover:opacity-100 group-hover:visible transition-all duration-200
                       w-32 py-1 rounded-lg border border-border/50 backdrop-blur
                       shadow-lg shadow-muted/5"><li>
                            <a aria-label="Posts" href="http://localhost:11924/posts/" class="block px-2 py-1.5 text-center text-muted-foreground/70 hover:text-primary hover:bg-muted/40 transition-colors
                              ">Posts</a>
                        </li><li>
                            <a aria-label="Categories" href="http://localhost:11924/categories/" class="block px-2 py-1.5 text-center text-muted-foreground/70 hover:text-primary hover:bg-muted/40 transition-colors
                              ">Categories</a>
                        </li><li>
                            <a aria-label="Tags" href="http://localhost:11924/tags/" class="block px-2 py-1.5 text-center text-muted-foreground/70 hover:text-primary hover:bg-muted/40 transition-colors
                              ">Tags</a>
                        </li></ul></li><li class="relative group">
                    <a aria-label="Menu Friends" href="http://localhost:11924/friends/"
                        class="hover:text-primary transition-colors">
                        Friends
                    </a></li><li class="relative group">
                    <a aria-label="Menu About" href="http://localhost:11924/about/"
                        class="hover:text-primary transition-colors">
                        About
                    </a></li><li class="relative group">
                    <a aria-label="Menu Search" href="http://localhost:11924/search/"
                        class="hover:text-primary transition-colors">
                        Search
                    </a></li></ul>
        </nav>

        
        <div class="md:hidden" id="header-mobilemenu">
            
            <input type="checkbox" id="header-mobilemenu__check" class="hidden" tabindex="-1">

            
            <label for="header-mobilemenu__check" id="header-mobilemenu__toggle" aria-label="Toggle menu"
                class="shrink-0 inline-flex items-center justify-center w-9 h-9 rounded-full bg-background/80 text-muted-foreground/70 hover:bg-muted/50 transition-colors cursor-pointer z-[var(--herm-zidx-header)] relative"
                role="button">
                <span class="header-mobilemenu__toggle--open i-carbon-menu w-4 h-4" aria-hidden="true"></span>
                <span class="header-mobilemenu__toggle--close i-carbon-close w-4 h-4" aria-hidden="true"></span>
            </label>

            
            <nav id="header-mobilemenu__panel"
                class="fixed top-[var(--herm-header-height)] left-0 right-0 bg-background/95 backdrop-blur border-b border-border/50 z-[var(--herm-zidx-dropdown)]">
                <div class="container max-w-container-content mx-auto px-4 py-4">
                    <ul class="px-4 space-y-4"><li>
                            <a aria-label="Archives" href="http://localhost:11924/" class="block text-base font-medium text-muted-foreground hover:text-primary transition-colors
                    ">Archives</a><ul class="mt-2 ml-4 space-y-3"><li>
                                    <a aria-label="Posts" href="http://localhost:11924/posts/" class="block text-sm text-muted-foreground/70 hover:text-primary transition-colors
                            ">Posts</a>
                                </li><li>
                                    <a aria-label="Categories" href="http://localhost:11924/categories/" class="block text-sm text-muted-foreground/70 hover:text-primary transition-colors
                            ">Categories</a>
                                </li><li>
                                    <a aria-label="Tags" href="http://localhost:11924/tags/" class="block text-sm text-muted-foreground/70 hover:text-primary transition-colors
                            ">Tags</a>
                                </li></ul></li><li>
                            <a aria-label="Friends" href="http://localhost:11924/friends/" class="block text-base font-medium text-muted-foreground hover:text-primary transition-colors
                    ">Friends</a></li><li>
                            <a aria-label="About" href="http://localhost:11924/about/" class="block text-base font-medium text-muted-foreground hover:text-primary transition-colors
                    ">About</a></li><li>
                            <a aria-label="Search" href="http://localhost:11924/search/" class="block text-base font-medium text-muted-foreground hover:text-primary transition-colors
                    ">Search</a></li></ul>
                </div>
            </nav>
        </div>

        
        <div class="absolute left-1/2 -translate-x-1/2 opacity-0 transition-all duration-300 max-w-[50%] sm:max-w-[60%]"
            id="header-title">
            <button class="text-base font-medium truncate" onclick="window.scrollTo({ top: 0, behavior: 'smooth'});"
                aria-label="返回顶部">C&#43;&#43;二分算法</button>
        </div>

        
        <div class="flex-1 flex justify-end">
            <div class="flex items-center gap-2"><label for="toc-toggle" class="header-button hidden md:inline-flex" aria-label="切换目录显示" role="button">
                    <i class="i-carbon-table-of-contents w-4 h-4"></i>
                </label><button id="header-btns__theme" class="header-button" aria-label="切换主题">
                    <i class="i-carbon-sun w-4 h-4 block dark:hidden" aria-hidden="true"></i>
                    <i class="i-carbon-moon w-4 h-4 hidden dark:block" aria-hidden="true"></i>
                </button>
            </div>
        </div>
    </div>
</header><script>const THEME_KEY = 'theme';
const THEMES = ['light', 'dark'];
let currentTheme = null;

const getTheme = () => {
    if (currentTheme) return currentTheme;
    const saved = localStorage.getItem(THEME_KEY);
    return (THEMES.includes(saved)) ? saved : 'light';
};

const setTheme = (theme) => {
    const html = document.documentElement;
    THEMES.forEach(t => html.classList.remove(t));
    html.classList.add(theme);
    currentTheme = theme;
    localStorage.setItem(THEME_KEY, theme);
};

const bindThemeToggle = () => {
    const btn = document.getElementById('header-btns__theme');
    btn?.addEventListener('click', () => setTheme(currentTheme === 'dark' ? 'light' : 'dark'));
};

const handleNavScroll = () => {
    const headerMenu = document.getElementById('header-menu');
    const headerTitle = document.getElementById('header-title');
    const mobileMenu = document.getElementById('header-mobilemenu');
    const threshold = 100;

    const updateNav = () => {
        const y = window.scrollY;
        if (!headerMenu || !headerTitle) return;

        const isScrolled = y > threshold;
        headerMenu.style.opacity = isScrolled ? '0' : '1';
        headerMenu.style.pointerEvents = isScrolled ? 'none' : 'auto';
        mobileMenu.style.opacity = isScrolled ? '0' : '1';
        mobileMenu.style.pointerEvents = isScrolled ? 'none' : 'auto';
        headerTitle.style.opacity = isScrolled ? '1' : '0';
        headerTitle.style.pointerEvents = isScrolled ? 'auto' : 'none';
    };

    window.addEventListener('scroll', updateNav);
    updateNav();
};

document.addEventListener('DOMContentLoaded', () => {
    setTheme(getTheme());
    bindThemeToggle();
    handleNavScroll();
});
</script><main class="flex-grow anim-fadein">
        <span class="sr-only">主要内容区域</span>
<div class="container relative max-w-[var(--herm-main-width-wd)] mx-auto px-4 pt-[var(--herm-content-offset)]"><link rel="stylesheet" href="/css/article/toc.css"><input type="checkbox" id="toc-toggle" class="toc-toggle__checkbox hidden" tabindex="-1" aria-hidden="true">

<aside class="toc-sidebar hidden lg:block left-4 h-full">
    <div class="sticky top-[var(--herm-toc-offset)]">
        <div class="text-base flex flex-col gap-4 ">
            <h2 class="font-medium text-foreground/80">目录</h2>
            <nav id="toc-main" class="toc-main text-foreground/70"><nav id="TableOfContents">
  <ul>
    <li><a href="#整数二分">整数二分</a></li>
    <li><a href="#实数二分">实数二分</a></li>
    <li><a href="#标准库函数">标准库函数</a></li>
    <li><a href="#后记">后记</a></li>
  </ul>
</nav></nav>
        </div>
    </div>
</aside><div class="max-w-[var(--herm-main-width-nr)] mx-auto flex flex-col gap-y-8 h-entry">
        <header class="space-y-6">
            <h1 data-pagefind-meta="title" class="text-2xl md:text-3xl font-bold p-name">C&#43;&#43;二分算法</h1><aside class="text-sm text-muted-foreground ml-2 space-y-6">
    <ul class="flex flex-wrap items-center gap-x-6 gap-y-2">
        <li class="flex items-center gap-2">
            <i class="i-carbon-calendar w-4 h-4"></i>
            <time class="dt-published" datetime=" 2025-05-24T00:00:00Z">2025-05-24</time>
        </li>

        <li class="flex items-center gap-2">
            <i class="i-carbon-time w-4 h-4"></i>
            <span>2 分钟阅读</span>
        </li>

        <li class="flex items-center gap-2">
            <i class="i-carbon-text-font w-4 h-4"></i>
            <span>726 字</span>
        </li><li class="flex items-center gap-2">
            <i class="i-carbon-folder w-4 h-4"></i>
            <span>算法</span>
        </li></ul><ul class="flex flex-wrap gap-2"><li class="inline-flex items-center gap-1 px-2 py-1 text-xs bg-muted rounded-md text-muted-foreground">
            <i class="i-carbon-tag w-4 h-4" aria-hidden="true"></i>
            <span>模板</span>
        </li><li class="inline-flex items-center gap-1 px-2 py-1 text-xs bg-muted rounded-md text-muted-foreground">
            <i class="i-carbon-tag w-4 h-4" aria-hidden="true"></i>
            <span>C&#43;&#43;</span>
        </li><li class="inline-flex items-center gap-1 px-2 py-1 text-xs bg-muted rounded-md text-muted-foreground">
            <i class="i-carbon-tag w-4 h-4" aria-hidden="true"></i>
            <span>二分查找</span>
        </li></ul></aside></header><article data-pagefind-body class="prose e-content"><p>早。</p>
<p>最近在算法课上整理了一些二分查找的模板。二分看似简单，但要写出一个既正确又优雅的实现，还真需要点功夫。下面是饭桌的笔记，希望能对各位有所帮助。</p>
<h2 id="整数二分">整数二分</h2>
<p>整数二分最让人头疼的就是那个 <code>±1</code> 的问题——加还是不加？这是个问题。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// 整数二分模板
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> L <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, R <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e9</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> ans <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;  <span style="color:#75715e">// 先预设个-1，找不到就算了（迫真）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">while</span>(L <span style="color:#f92672">&lt;=</span> R)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> mid <span style="color:#f92672">=</span> (L <span style="color:#f92672">+</span> R) <span style="color:#f92672">&gt;&gt;</span> <span style="color:#ae81ff">1</span>;  <span style="color:#75715e">// 右移一位，比除法优雅那么一点点
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(check(mid))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ans <span style="color:#f92672">=</span> mid;    <span style="color:#75715e">// 暂时记录这个可行的答案
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        R <span style="color:#f92672">=</span> mid <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;  <span style="color:#75715e">// 看看还有没有更小的解
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        L <span style="color:#f92672">=</span> mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;  <span style="color:#75715e">// 当前解不可行，得往大了找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>这个模板适用于寻找<strong>最小可行解</strong>的场景。如果你要找最大可行解，把 <code>R = mid - 1</code> 和 <code>L = mid + 1</code> 的逻辑对调一下就好。</p>
<h2 id="实数二分">实数二分</h2>
<p>实数二分就温柔多了，没有那些恼人的边界问题，但你要面对的是另一个敌人——<strong>精度</strong>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// 实数二分模板
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">long</span> <span style="color:#66d9ef">double</span> l <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, r <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e9</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> T <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>;  <span style="color:#75715e">// 循环100次，精度应该够用了
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">while</span>(T<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">long</span> <span style="color:#66d9ef">double</span> mid <span style="color:#f92672">=</span> (l <span style="color:#f92672">+</span> r) <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.5</span>;  <span style="color:#75715e">// 注意是0.5，不是&gt;&gt;1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(check(mid))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        l <span style="color:#f92672">=</span> mid;  <span style="color:#75715e">// 不加减，直接赋值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        r <span style="color:#f92672">=</span> mid;  <span style="color:#75715e">// 这里也是直接赋值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>cout <span style="color:#f92672">&lt;&lt;</span> l <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;  <span style="color:#75715e">// 输出l或r都可以，它们已经足够接近
</span></span></span></code></pre></div><h2 id="标准库函数">标准库函数</h2>
<p>当然，如果你只是在数组上二分，完全可以用 lower_bound &amp; upper_bound 。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// lower_bound &amp; upper_bound 用法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> a[<span style="color:#ae81ff">50</span>];
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">4</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 一
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">auto</span> it <span style="color:#f92672">=</span> lower_bound(a <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, a <span style="color:#f92672">+</span> <span style="color:#ae81ff">49</span>, <span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>it <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;  <span style="color:#75715e">// 输出5（a[3]的值），实际得到的是第一个大于等我要求的值（val项的5）的位置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 二
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> pos <span style="color:#f92672">=</span> lower_bound(a <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, a <span style="color:#f92672">+</span> <span style="color:#ae81ff">49</span>, <span style="color:#ae81ff">5</span>) <span style="color:#f92672">-</span> a;<span style="color:#75715e">// 得到了我们想要的位置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// 现在 a[pos] == *it
</span></span></span></code></pre></div><p>简单解释一下这两个函数：</p>
<p>语法: lower_bound(*begin, *end, val, cmp) cmp是自主设定的比较函数（可有可无，不建议使用）</p>
<ul>
<li><code>lower_bound</code>: 在给定的排序规则下，找到<strong>第一个大于等于</strong>val的位置</li>
<li><code>upper_bound</code>: 在给定的排序规则下，找到<strong>第一个大于</strong>val的位置</li>
</ul>
<h2 id="后记">后记</h2>
<p>希望这份笔记对你有用。如果你发现了什么错误或者有更好的写法，欢迎在评论区指出，也可以问问 <a href="https://purinliang.github.io">Purinliang</a> (<em>^▽^</em>)。</p>
</article><section aria-labelledby="license-heading" class="p-6 md:p-8 rounded-xl border border-border/40 backdrop-blur bg-muted/20 flex items-center gap-x-8">

    <i class="i-carbon-scales w-2rem h-2rem text-primary/70 shrink-0" aria-hidden="true"></i>

    <div class="space-y-2">
        <h2 id="license-heading" class="font-medium">License</h2>

        <p class="text-sm text-muted-foreground space-x-1">
            <span>许可协议</span>
            <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-Hans
                target="_blank" rel="noopener noreferrer license"
                class="font-mono text-xs bg-muted/50 px-2 py-1 rounded hover:text-foreground/80">CC BY-NC-SA 4.0</a>
        </p>

        <p class="text-sm text-muted-foreground space-x-1">
            <span>原文链接</span>
            <a href="http://localhost:11924/posts/%E7%AE%97%E6%B3%95/cpp-binary-search-template/"
                class="font-mono text-xs bg-muted/50 px-2 py-1 rounded hover:text-foreground/80">http://localhost:11924/posts/%E7%AE%97%E6%B3%95/cpp-binary-search-template/</a>
        </p>
    </div>
</section>
</div><div id="article-readprog" class="
        fixed right-4 bottom-20 md:right-8 w-12 h-12 rounded-full 
        backdrop-blur z-50 shadow-lg border border-border/20
        flex items-center justify-center text-sm font-medium tabular-nums
        transition-all duration-300 opacity-0 translate-y-24
        data-visible:opacity-100 data-visible:translate-y-0
    " aria-label="阅读进度">
    0%
</div><script src="/js/article/reading-progress.js"defer></script></div></main><footer border="t border/50" class="mt-auto py-4 backdrop-blur">
    <div m="x-auto" p="x-4" flex="~ col" gap="6" class="container">
        <div text="sm muted-foreground/70" gap="3" m="t-3" class="hidden md:flex items-center"><div class="flex items-center gap-2">
    <i class="i-carbon-time w-4 h-4"></i>
    <span>已被世界欠拟合</span>
    <span class="tabular-nums font-mono tracking-wider" id="runningtime" data-start-date="09/28/2025 00:00:00"></span>
</div><script src="/js/global/runtime.js"defer></script><span w="1" h="1" rounded="full" bg="muted-foreground/30"></span><div class="flex items-center gap-2">
    <i class="i-carbon-text-font w-4 h-4"></i>
    <span>
        共 <span class="tabular-nums font-mono">2646</span> 字，</span>
</div></div>

        <div text="sm muted-foreground/60" flex="~ col md:row" gap="3" class="items-center justify-between"><div class="flex flex-wrap items-center justify-center md:justify-start gap-x-4 gap-y-2">
    <div class="inline-flex items-center">
        <span class="i-mdi-copyleft w-4 h-4 mr-1.5"></span>
        <span>
            2025 Fanzhuo
        </span>
    </div>

    <span>Powered by <a href="https://gohugo.io" target="_blank" rel="noopener noreferrer"
            class="hover:text-primary transition-colors">Hugo</a></span>

    <span>Theme <a href="https://chlo.dev/chlorine/hugo-theme-hermeneutics" target="_blank" rel="noopener noreferrer"
            class="hover:text-primary transition-colors">Hermeneutics</a></span>
</div><div class="flex flex-col md:flex-row items-center gap-y-2
            md:divide-x md:divide-gray-300/60 md:dark:divide-gray-600/60"><a href="https://awesomewebring.org/" target="_blank" rel="noopener noreferrer"
        class="inline-flex items-center px-2 md:px-4 hover:text-primary transition-colors">
        <span>Webring1</span>
    </a></div></div>
    </div>
</footer><script src="/vendor/instantpage.min.js"></script></body>

</html>