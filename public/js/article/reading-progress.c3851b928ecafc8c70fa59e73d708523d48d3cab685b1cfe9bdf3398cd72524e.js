(()=>{document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("article-readprog"),n=document.querySelector("article");if(!e||!n)return;let o=!1,s=()=>{let i=n.getBoundingClientRect(),a=window.innerHeight,l=i.height-a;if(l<=0){e.dataset.visible="false";return}let t=-i.top/l*100;t=Math.min(100,Math.max(0,t)),e.textContent=`${Math.round(t)}%`;let c=t>5&&t<95;e.dataset.visible=c.toString();let d=Math.round(t*1.2);e.style.setProperty("--progress-hue",d)},r=()=>{o||(window.requestAnimationFrame(()=>{s(),o=!1}),o=!0)};e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",r,{passive:!0}),s()});})();
